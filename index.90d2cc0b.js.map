{"mappings":"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","sources":["<anon>","src/js/index.js","src/js/categories-menu.js","src/js/bookshelf-api.js","src/js/best-sellers-books.js","src/js/category-books-list.js","src/js/charities.js","src/js/pop-up-modal.js"],"sourcesContent":["// Constant URL value for API\nconst $5e4fec0c7f2908c0$var$BASE_API_URL = \"https://books-backend.p.goit.global/books/\";\nclass $5e4fec0c7f2908c0$export$b78989fb0ec8a513 {\n    // Timeout a fetch() Request\n    async fetchWithTimeout(resource, options) {\n        // console.log('resource: ', resource);\n        const { timeout: timeout = 8000 } = options;\n        const controller = new AbortController();\n        const id = setTimeout(()=>controller.abort(), timeout);\n        const response = await fetch(resource, {\n            ...options,\n            signal: controller.signal\n        });\n        clearTimeout(id);\n        // console.log('response: ', response);\n        return response;\n    }\n    /**\n   * Category name to get a list of books in this category.\n   * Will receive a collection of 20 books of a certain category\n   *\n   */ async fetchByCategory(selectedCategory) {\n        try {\n            const response = await this.fetchWithTimeout(`${$5e4fec0c7f2908c0$var$BASE_API_URL}/category?category=${selectedCategory}`, {\n                timeout: 6000\n            });\n            // ok - shorthand for checking that the status is in the range 2xx (boolean)\n            if (!response.ok) throw new Error(`Network response was not OK - HTTP error: ${response.status}`);\n            const data = await response.json();\n            return data;\n        } catch (error) {\n            console.error(\"There has been a problem with your fetch operation:\", error.message);\n        }\n    }\n    // returns a list of categories\n    async fetchBooksCategoryList() {\n        try {\n            const response = await this.fetchWithTimeout(`${$5e4fec0c7f2908c0$var$BASE_API_URL}/category-list`, {\n                timeout: 6000\n            });\n            // ok - shorthand for checking that the status is in the range 2xx (boolean)\n            if (!response.ok) throw new Error(`Network response was not OK - HTTP error: ${response.status}`);\n            const data = await response.json();\n            return data;\n        } catch (error) {\n            console.error(\"There has been a problem with your fetch operation:\", error);\n        }\n    }\n    // will receive the first 5 books from the collection in each category\n    async fetchTopBooks() {\n        try {\n            const response = await this.fetchWithTimeout(`${$5e4fec0c7f2908c0$var$BASE_API_URL}/top-books`, {\n                timeout: 6000\n            });\n            // ok - shorthand for checking that the status is in the range 2xx (boolean)\n            if (!response.ok) throw new Error(`Network response was not OK - HTTP error: ${response.status}`);\n            const data = await response.json();\n            return data;\n        } catch (error) {\n            console.error(\"There has been a problem with your fetch operation:\", error);\n        }\n    }\n    // will receive complete information about the book\n    async fetchById(id) {\n        try {\n            const response = await this.fetchWithTimeout(`${$5e4fec0c7f2908c0$var$BASE_API_URL}${id}`, {\n                timeout: 6000\n            });\n            // ok - shorthand for checking that the status is in the range 2xx (boolean)\n            if (!response.ok) throw new Error(`Network response was not OK - HTTP error: ${response.status}`);\n            const data = await response.json();\n            return data;\n        } catch (error) {\n            console.error(\"There has been a problem with your fetch operation:\", error.message);\n        }\n    }\n}\n\n\nconst $6f8d5bdcded4db2c$var$bookshelfApi = new (0, $5e4fec0c7f2908c0$export$b78989fb0ec8a513)();\nconst $6f8d5bdcded4db2c$var$categoriesListEl = document.querySelector(\".categories-list\");\n$6f8d5bdcded4db2c$var$categoriesListEl.addEventListener(\"click\", $6f8d5bdcded4db2c$var$onCategoryClick);\nasync function $6f8d5bdcded4db2c$var$renderCategoriesMenu() {\n    try {\n        const resultJson = await $6f8d5bdcded4db2c$var$bookshelfApi.fetchBooksCategoryList();\n        if (resultJson.length < 1) {\n            $6f8d5bdcded4db2c$var$categoriesListEl.innerHTML = \"Sorry, we didn't find anything\";\n            return [];\n        }\n        const categoriesMarkup = resultJson.map((item)=>`\n      <li class=\"categories-list-item\">${item.list_name}</li>\n    `).join(\"\");\n        $6f8d5bdcded4db2c$var$categoriesListEl.innerHTML = `<li class=\"categories-list-item\" selected=\"true\">All categories</li>${categoriesMarkup}`;\n        console.log(\"Categories loaded successfully.\"); // Add this console.log() for verification\n        return resultJson;\n    } catch (error) {\n        $6f8d5bdcded4db2c$var$categoriesListEl.innerHTML = `Error: ${error.message}`;\n        console.error(error);\n        return [];\n    }\n}\nasync function $6f8d5bdcded4db2c$var$onCategoryClick(e) {\n    if (e.target.nodeName !== \"LI\") return;\n    const prevSelected = document.querySelector('.categories-list-item[selected=\"true\"]');\n    if (prevSelected) prevSelected.removeAttribute(\"selected\");\n    e.target.setAttribute(\"selected\", \"true\");\n    const selectedCategory = e.target.textContent;\n    try {\n        const books = await $6f8d5bdcded4db2c$var$bookshelfApi.fetchByCategory(selectedCategory);\n        console.log(\"Selected category:\", selectedCategory); // Add this console.log() for verification\n    // Here you can use the fetched books to update your page.\n    // For example: updateBookList(books);\n    } catch (error) {\n        console.error(error);\n    }\n}\nlet $6f8d5bdcded4db2c$export$7191e72e599d06ef = $6f8d5bdcded4db2c$var$renderCategoriesMenu();\n\n\n\nconst $45ea4dd502a5e6ab$var$bookshelf = new (0, $5e4fec0c7f2908c0$export$b78989fb0ec8a513)();\nconst $45ea4dd502a5e6ab$var$bestCategories = document.querySelector(\".best-sellers\");\n// Feature to download the best books\nasync function $45ea4dd502a5e6ab$var$getBestBooks() {\n    try {\n        return await $45ea4dd502a5e6ab$var$bookshelf.fetchTopBooks();\n    } catch (error) {\n        console.error(\"Error downloading top books:\", error);\n    }\n}\n// Function to download books from a given category\nasync function $45ea4dd502a5e6ab$var$getCategoryBooks(category) {\n    try {\n        return await $45ea4dd502a5e6ab$var$bookshelf.fetchByCategory(category);\n    } catch (error) {\n        console.error(\"Error downloading books from categories:\", error);\n    }\n}\n// Function to create a single gallery item\nfunction $45ea4dd502a5e6ab$var$createGalleryItem(data) {\n    const markup = `\n    <h1 class=\"title-book\">\n      Best Sellers <span class=\"title-book-span\">Books</span>\n    </h1> \n    <ul class=\"books-container\"> \n      ${data.map((elements)=>{\n        return `\n          <li class=\"books-list\"> \n            <h3 class=\"books-list-title\">${elements.list_name}</h3>\n            <div class=\"books-card-container\" data-list-id=\"${elements.list_name}\">\n              ${$45ea4dd502a5e6ab$var$createAllBookInCategory(elements.books)}\n            </div>\n          </li>`;\n    }).join(\"\")}\n    </ul>`;\n    $45ea4dd502a5e6ab$var$bestCategories.insertAdjacentHTML(\"beforeend\", markup);\n}\n//Function to create a markup for all books in a given category\nfunction $45ea4dd502a5e6ab$var$createAllBookInCategory(books) {\n    return books.map((book)=>{\n        return `\n      <a href=\"#\" class=\"books-item-link\" aria-label=\"books-item-link\" rel=\"noopener noreferrer\" data-id='${book._id}'>\n        <div class=\"books-card\">\n          <img\n            src=\"${book.book_image}\"\n            alt=\"${book.title}\"\n            class=\"books-card-title-img\"\n            width=\"180\"\n            height=\"256\"\n            loading=\"lazy\"\n          />\n          <div class=\"books-overlay\">\n            <p class=\"books-overlay-text\">quick view</p>\n          </div>\n        </div> \n        <div class=\"books-descr\">\n          <h3 class=\"books-card-title\">${book.title}</h3>\n          <p class=\"books-card-author\">${book.author}</p>\n        </div>\n      </a>`;\n    }).join(\"\");\n}\nasync function $45ea4dd502a5e6ab$var$initializePage() {\n    const data = await $45ea4dd502a5e6ab$var$getBestBooks();\n    $45ea4dd502a5e6ab$var$createGalleryItem(data);\n}\n$45ea4dd502a5e6ab$var$initializePage();\n\n\nconst $258c5fa24b0cc841$var$mainTitleCategory = document.querySelector(\".category-books-list__title\");\nconst $258c5fa24b0cc841$var$categoryList = document.querySelector(\".category-books-list__list\");\nconst $258c5fa24b0cc841$var$categoriesQuery = document.querySelector(\".categories-list\");\nconst $258c5fa24b0cc841$var$topBooks = document.querySelector(\".best-sellers\");\nconst $258c5fa24b0cc841$var$URL = \"https://books-backend.p.goit.global/books/category\";\n$258c5fa24b0cc841$var$categoriesQuery.addEventListener(\"click\", $258c5fa24b0cc841$var$onCategoryClick);\nfunction $258c5fa24b0cc841$var$fetchCategory(query) {\n    return fetch(`${$258c5fa24b0cc841$var$URL}?category=${query}`).then((res)=>res.json());\n}\nfunction $258c5fa24b0cc841$var$renderTargetCategory(categories) {\n    const markup = categories.map((category)=>`\n    <li data-id=\"${category._id}\" class=\"category-books-list__item\">\n      <div class=\"card__container card\">\n        <div class=\"card__img-container\">\n          <img src=\"${category[\"book_image\"]}\" alt=\"${category.title}\" class=\"card__img\">\n          <p class=\"img-hover\">QUICK VIEW</p>\n        </div>\n        <div class=\"card__desc\">\n          <h3 class=\"card__heading\">${category.title}</h3>\n          <p class=\"card__author\">${category.author}</p>\n        </div>\n      </div>\n    </li>\n  `).join(\"\");\n    $258c5fa24b0cc841$var$categoryList.innerHTML = markup;\n}\nfunction $258c5fa24b0cc841$var$getCategory(query) {\n    $258c5fa24b0cc841$var$fetchCategory(query).then((res)=>{\n        $258c5fa24b0cc841$var$renderTargetCategory(res);\n    }).catch((error)=>console.error(\"Error fetching data:\", error));\n}\nfunction $258c5fa24b0cc841$var$onCategoryClick(e) {\n    const value = e.target.textContent;\n    if (value === \"All categories\") {\n        $258c5fa24b0cc841$var$topBooks.style.display = \"block\";\n        $258c5fa24b0cc841$var$mainTitleCategory.innerHTML = \"\";\n        return;\n    }\n    const query = value.split(\" \").join(\"%20\");\n    const categoryTitle = `<span class=\"paintedWord\">${value}</span>`;\n    $258c5fa24b0cc841$var$mainTitleCategory.innerHTML = \"\";\n    $258c5fa24b0cc841$var$mainTitleCategory.insertAdjacentHTML(\"beforeend\", categoryTitle);\n    $258c5fa24b0cc841$var$getCategory(query);\n    $258c5fa24b0cc841$var$topBooks.style.display = \"none\";\n}\n\n\nconst $55815fd1053b6bc4$var$scrollDownBtn = document.querySelector(\".down-btn\");\nconst $55815fd1053b6bc4$var$scrollUpBtn = document.querySelector(\".up-btn\");\nconst $55815fd1053b6bc4$var$list = document.querySelector(\".charities__list\");\n$55815fd1053b6bc4$var$scrollDownBtn.addEventListener(\"click\", ()=>{\n    setTimeout(function() {\n        $55815fd1053b6bc4$var$list.scrollTo(0, 1000);\n    }, 10);\n    $55815fd1053b6bc4$var$scrollDownBtn.classList.add(\"is-hidden\");\n    $55815fd1053b6bc4$var$scrollUpBtn.classList.remove(\"is-hidden\");\n});\n$55815fd1053b6bc4$var$scrollUpBtn.addEventListener(\"click\", ()=>{\n    setTimeout(function() {\n        $55815fd1053b6bc4$var$list.scrollTo(top);\n    }, 10);\n    $55815fd1053b6bc4$var$scrollUpBtn.classList.add(\"is-hidden\");\n    $55815fd1053b6bc4$var$scrollDownBtn.classList.remove(\"is-hidden\");\n});\n\n\n\n\nconst $ef94361d02324fdf$var$bookshelf = new (0, $5e4fec0c7f2908c0$export$b78989fb0ec8a513)();\nconst $ef94361d02324fdf$var$LOCALSTORAGE_KEY = \"storage-book-data\";\nlet $ef94361d02324fdf$var$bookData = {};\nconst $ef94361d02324fdf$var$popUpModal = document.querySelector(\".pop-up-modal\");\nconst $ef94361d02324fdf$var$backdropModal = document.querySelector(\".backdrop-modal\");\nconst $ef94361d02324fdf$var$allBooks = document.querySelector(\"#allBooks\");\nconst $ef94361d02324fdf$var$categorieList = document.querySelector(\".category-books-list\");\nconst $ef94361d02324fdf$var$bestSellers = document.querySelector(\".best-sellers\");\nconst $ef94361d02324fdf$var$closeButton = document.querySelector(\".close-pop-up-modal-btn\");\nconst $ef94361d02324fdf$var$addBookButton = document.querySelector(\".add-book-button\");\nconst $ef94361d02324fdf$var$storageComment = document.querySelector(\".storage-comment\");\nconst $ef94361d02324fdf$var$removeBookButton = document.querySelector(\".remove-button\");\nfunction $ef94361d02324fdf$var$openPopUpModal() {\n    $ef94361d02324fdf$var$popUpModal.classList.remove(\"is-hidden\");\n    $ef94361d02324fdf$var$backdropModal.classList.remove(\"is-hidden\");\n}\nfunction $ef94361d02324fdf$var$closePopUpModal() {\n    $ef94361d02324fdf$var$popUpModal.classList.add(\"is-hidden\");\n    $ef94361d02324fdf$var$backdropModal.classList.add(\"is-hidden\");\n}\nasync function $ef94361d02324fdf$var$fetchBookById(id) {\n    try {\n        $ef94361d02324fdf$var$bookData = {};\n        const data = await $ef94361d02324fdf$var$bookshelf.fetchById(id);\n        console.log(data);\n        $ef94361d02324fdf$var$bookData = {\n            book_image: data.book_image,\n            title: data.title,\n            author: data.author,\n            description: data.description,\n            marketAmazon: data.buy_links[0].url,\n            marketAppleBooks: data.buy_links[1].url,\n            list_name: data.list_name,\n            id: data._id\n        };\n        return data;\n    } catch (error) {\n        console.error(\"Error\", error);\n        throw error;\n    }\n}\nfunction $ef94361d02324fdf$var$createMarkup(data) {\n    const marketAmazon = data.buy_links[0].url;\n    const marketAppleBooks = data.buy_links[1].url;\n    const bookCard = `\n      <img src=\"${data.book_image}\" alt=\"Book Image\" class=\"image\">\n      <div class=\"info-modal\">\n        <h2 class=\"title\">${data.title}</h2>\n        <p class=\"author\">${data.author}</p>\n        <p class=\"description\">${data.description}</p>\n        <ul class=\"buy-links\">\n          <li class=\"buy-links-item\"><a href=\"${marketAmazon}\" target=\"_blank\">\n            <img\n              width=\"62\"\n              height=\"19\"\n              srcset=\"./images/pop-up-modal/iconAmazon@x1.png 1x,\n                      ./images/pop-up-modal/iconAmazon@x2.png 2x\"\n              src=\"./images/pop-up-modal/iconAmazon@x1.png\"\n              alt=\"Amazon\"/>\n          </a></li>\n          <li class=\"buy-links-item\"><a href=\"${marketAppleBooks}\" target=\"_blank\">\n            <img\n              width=\"33\"\n              height=\"32\"\n              srcset=\"./images/pop-up-modal/iconAppleBooks@x1.png 1x,\n                      ./images/pop-up-modal/iconAppleBooks@x2.png 2x\"\n              src=\"./images/pop-up-modal/iconAppleBooks@x1.png\"\n              alt=\"AppleBooks\"/>\n          </a></li>\n        </ul>\n      </div>`;\n    $ef94361d02324fdf$var$allBooks.innerHTML = bookCard;\n}\nasync function $ef94361d02324fdf$var$createPopUpModal(id) {\n    $ef94361d02324fdf$var$allBooks.innerHTML = \"\";\n    try {\n        const data = await $ef94361d02324fdf$var$fetchBookById(id);\n        $ef94361d02324fdf$var$createMarkup(data);\n    } catch (error) {\n        console.error(\"Error\", error);\n    }\n}\ndocument.addEventListener(\"DOMContentLoaded\", $ef94361d02324fdf$var$createPopUpModal);\nfunction $ef94361d02324fdf$var$onIdClick(e) {\n    if ([\n        \"UL\",\n        \"DIV\",\n        \"H2\"\n    ].includes(e.target.nodeName)) return;\n    const id = e.target.closest(\"li\").getAttribute(\"data-id\");\n    $ef94361d02324fdf$var$openPopUpModal();\n    $ef94361d02324fdf$var$createPopUpModal(id);\n}\nfunction $ef94361d02324fdf$var$onAddBook() {\n    const searchBookArray = JSON.parse(localStorage.getItem($ef94361d02324fdf$var$LOCALSTORAGE_KEY)) || [];\n    const bookDataToSave = $ef94361d02324fdf$var$bookData;\n    searchBookArray.push(bookDataToSave);\n    localStorage.setItem($ef94361d02324fdf$var$LOCALSTORAGE_KEY, JSON.stringify(searchBookArray));\n    $ef94361d02324fdf$var$addBookButton.style.display = \"none\";\n    $ef94361d02324fdf$var$removeBookButton.style.display = \"block\";\n    $ef94361d02324fdf$var$storageComment.textContent = \"Congratulations! You have added the book to the shopping list. To delete, press the button \\u201CRemove from the shopping list\\u201D.\";\n}\nfunction $ef94361d02324fdf$var$onRemoveBook() {\n    const bookToDelete = $ef94361d02324fdf$var$bookData.id;\n    const bookArray = JSON.parse(localStorage.getItem($ef94361d02324fdf$var$LOCALSTORAGE_KEY)) || [];\n    const indexToDelete = bookArray.findIndex((book)=>book.id === bookToDelete);\n    if (indexToDelete !== -1) {\n        bookArray.splice(indexToDelete, 1);\n        localStorage.setItem($ef94361d02324fdf$var$LOCALSTORAGE_KEY, JSON.stringify(bookArray));\n    }\n    $ef94361d02324fdf$var$addBookButton.style.display = \"block\";\n    $ef94361d02324fdf$var$removeBookButton.style.display = \"none\";\n    $ef94361d02324fdf$var$storageComment.textContent = \"\";\n}\nif ($ef94361d02324fdf$var$categorieList) $ef94361d02324fdf$var$categorieList.addEventListener(\"click\", $ef94361d02324fdf$var$onIdClick);\nelse console.error(\"Element .category-books-list nie zosta\\u0142 znaleziony!\");\nif ($ef94361d02324fdf$var$bestSellers) $ef94361d02324fdf$var$bestSellers.addEventListener(\"click\", $ef94361d02324fdf$var$onIdClick);\nelse console.error(\"Element .best-sellers nie zosta\\u0142 znaleziony!\");\nif ($ef94361d02324fdf$var$backdropModal) $ef94361d02324fdf$var$backdropModal.addEventListener(\"click\", (e)=>{\n    if (e.target === $ef94361d02324fdf$var$backdropModal) $ef94361d02324fdf$var$closePopUpModal();\n});\nelse console.error(\"Element .backdrop-modal nie zosta\\u0142 znaleziony!\");\nif ($ef94361d02324fdf$var$closeButton) $ef94361d02324fdf$var$closeButton.addEventListener(\"click\", $ef94361d02324fdf$var$closePopUpModal);\nelse console.error(\"Element .close-pop-up-modal-btn nie zosta\\u0142 znaleziony!\");\nif ($ef94361d02324fdf$var$addBookButton) $ef94361d02324fdf$var$addBookButton.addEventListener(\"click\", $ef94361d02324fdf$var$onAddBook);\nelse console.error(\"Element .add-book-button nie zosta\\u0142 znaleziony!\");\nif ($ef94361d02324fdf$var$removeBookButton) $ef94361d02324fdf$var$removeBookButton.addEventListener(\"click\", $ef94361d02324fdf$var$onRemoveBook);\nelse console.error(\"Element .remove-button nie zosta\\u0142 znaleziony!\");\ndocument.addEventListener(\"keydown\", (e)=>{\n    if (e.key === \"Escape\") $ef94361d02324fdf$var$closePopUpModal();\n});\n\n\nconst $4f267d6e0c9c7dbb$var$my_Bookshelf = new (0, $5e4fec0c7f2908c0$export$b78989fb0ec8a513)();\n$4f267d6e0c9c7dbb$var$my_Bookshelf.fetchByCategory(\"Business Books\").then((data)=>{\n    const books = data.map((item)=>{\n        const book = {\n            _id: item._id,\n            title: item.title,\n            author: item.author,\n            book_image: item.book_image,\n            description: item.description,\n            category: item.list_name,\n            publisher: item.publisher,\n            price: item.price,\n            marketAmazon: item.amazon_product_url,\n            rank: item.rank\n        };\n        return book;\n    });\n    console.log(\"Business Books: \", books);\n    return books;\n});\nconst $4f267d6e0c9c7dbb$var$bookslist = $4f267d6e0c9c7dbb$var$my_Bookshelf.fetchByCategory(\"Audio Nonfiction\").then((data)=>{\n    const books = data.map((item)=>{\n        const book = {\n            _id: item._id,\n            title: item.title,\n            author: item.author,\n            book_image: item.book_image,\n            description: item.description,\n            category: item.list_name,\n            publisher: item.publisher,\n            price: item.price,\n            marketAmazon: item.amazon_product_url,\n            rank: item.rank\n        };\n        return book;\n    });\n    console.log(\"Audio Nonfiction: \", books);\n    return books;\n});\n$4f267d6e0c9c7dbb$var$my_Bookshelf.fetchBooksCategoryList().then((data)=>{\n    const list = data.map((element)=>element.list_name);\n    console.log(\"Category List: \", list);\n});\n$4f267d6e0c9c7dbb$var$my_Bookshelf.fetchById(\"643282b1e85766588626a0b6\").then((data)=>{\n    const book = {\n        _id: data._id,\n        title: data.title,\n        author: data.author,\n        book_image: data.book_image,\n        description: data.description,\n        category: data.list_name,\n        publisher: data.publisher,\n        price: data.price,\n        marketAmazon: data.amazon_product_url,\n        rank: data.rank\n    };\n    console.log(\"book by id: \", book);\n    return book;\n});\n$4f267d6e0c9c7dbb$var$my_Bookshelf.fetchTopBooks().then((data)=>{\n    // const list = data.map((element) => element.list_name);\n    console.log(\"Top List: \", data);\n});\n\n\n//# sourceMappingURL=index.90d2cc0b.js.map\n","import './categories-menu';\nimport './best-sellers-books';\nimport './category-books-list';\nimport './charities';\nimport { Bookshelf } from './bookshelf-api';\nimport './pop-up-modal';\n\nconst my_Bookshelf = new Bookshelf();\nmy_Bookshelf.fetchByCategory('Business Books').then(data => {\n  const books = data.map(item => {\n    const book = {\n      _id: item._id,\n      title: item.title,\n      author: item.author,\n      book_image: item.book_image,\n      description: item.description,\n      category: item.list_name,\n      publisher: item.publisher,\n      price: item.price,\n      marketAmazon: item.amazon_product_url,\n      rank: item.rank,\n    };\n    return book;\n  });\n  console.log('Business Books: ', books);\n  return books;\n});\n\nconst bookslist = my_Bookshelf.fetchByCategory('Audio Nonfiction').then(data => {\n  const books = data.map(item => {\n    const book = {\n      _id: item._id,\n      title: item.title,\n      author: item.author,\n      book_image: item.book_image,\n      description: item.description,\n      category: item.list_name,\n      publisher: item.publisher,\n      price: item.price,\n      marketAmazon: item.amazon_product_url,\n      rank: item.rank,\n    };\n    return book;\n  });\n  console.log('Audio Nonfiction: ', books);\n  return books;\n});\n\nmy_Bookshelf.fetchBooksCategoryList().then(data => {\n  const list = data.map(element => element.list_name);\n  console.log('Category List: ', list);\n});\n\nmy_Bookshelf.fetchById('643282b1e85766588626a0b6').then(data => {\n  const book = {\n    _id: data._id,\n    title: data.title,\n    author: data.author,\n    book_image: data.book_image,\n    description: data.description,\n    category: data.list_name,\n    publisher: data.publisher,\n    price: data.price,\n    marketAmazon: data.amazon_product_url,\n    rank: data.rank,\n  };\n  console.log('book by id: ', book);\n  return book;\n});\n\nmy_Bookshelf.fetchTopBooks().then(data => {\n  // const list = data.map((element) => element.list_name);\n  console.log('Top List: ', data);\n});\n","import { Bookshelf } from './bookshelf-api.js';\n\nconst bookshelfApi = new Bookshelf();\nconst categoriesListEl = document.querySelector('.categories-list');\n\ncategoriesListEl.addEventListener('click', onCategoryClick);\n\nasync function renderCategoriesMenu() {\n  try {\n    const resultJson = await bookshelfApi.fetchBooksCategoryList();\n\n    if (resultJson.length < 1) {\n      categoriesListEl.innerHTML = \"Sorry, we didn't find anything\";\n      return [];\n    }\n\n    const categoriesMarkup = resultJson\n      .map(\n        item => `\n      <li class=\"categories-list-item\">${item.list_name}</li>\n    `,\n      )\n      .join('');\n\n    categoriesListEl.innerHTML = `<li class=\"categories-list-item\" selected=\"true\">All categories</li>${categoriesMarkup}`;\n\n    console.log('Categories loaded successfully.'); // Add this console.log() for verification\n    return resultJson;\n  } catch (error) {\n    categoriesListEl.innerHTML = `Error: ${error.message}`;\n    console.error(error);\n    return [];\n  }\n}\n\nasync function onCategoryClick(e) {\n  if (e.target.nodeName !== 'LI') {\n    return;\n  }\n\n  const prevSelected = document.querySelector('.categories-list-item[selected=\"true\"]');\n  if (prevSelected) {\n    prevSelected.removeAttribute('selected');\n  }\n\n  e.target.setAttribute('selected', 'true');\n\n  const selectedCategory = e.target.textContent;\n  try {\n    const books = await bookshelfApi.fetchByCategory(selectedCategory);\n    console.log('Selected category:', selectedCategory); // Add this console.log() for verification\n    // Here you can use the fetched books to update your page.\n    // For example: updateBookList(books);\n  } catch (error) {\n    console.error(error);\n  }\n}\n\nexport let categoriesMenu = renderCategoriesMenu();\n","// Constant URL value for API\nconst BASE_API_URL = 'https://books-backend.p.goit.global/books/';\n\nexport class Bookshelf {\n  // Timeout a fetch() Request\n  async fetchWithTimeout(resource, options) {\n    // console.log('resource: ', resource);\n    const { timeout = 8000 } = options;\n\n    const controller = new AbortController();\n    const id = setTimeout(() => controller.abort(), timeout);\n\n    const response = await fetch(resource, {\n      ...options,\n      signal: controller.signal,\n    });\n    clearTimeout(id);\n    // console.log('response: ', response);\n    return response;\n  }\n\n  /**\n   * Category name to get a list of books in this category.\n   * Will receive a collection of 20 books of a certain category\n   *\n   */\n  async fetchByCategory(selectedCategory) {\n    try {\n      const response = await this.fetchWithTimeout(\n        `${BASE_API_URL}/category?category=${selectedCategory}`,\n        {\n          timeout: 6000,\n        },\n      );\n      // ok - shorthand for checking that the status is in the range 2xx (boolean)\n      if (!response.ok) {\n        throw new Error(`Network response was not OK - HTTP error: ${response.status}`);\n      }\n      const data = await response.json();\n      return data;\n    } catch (error) {\n      console.error('There has been a problem with your fetch operation:', error.message);\n    }\n  }\n\n  // returns a list of categories\n  async fetchBooksCategoryList() {\n    try {\n      const response = await this.fetchWithTimeout(`${BASE_API_URL}/category-list`, {\n        timeout: 6000,\n      });\n      // ok - shorthand for checking that the status is in the range 2xx (boolean)\n      if (!response.ok) {\n        throw new Error(`Network response was not OK - HTTP error: ${response.status}`);\n      }\n      const data = await response.json();\n      return data;\n    } catch (error) {\n      console.error('There has been a problem with your fetch operation:', error);\n    }\n  }\n\n  // will receive the first 5 books from the collection in each category\n  async fetchTopBooks() {\n    try {\n      const response = await this.fetchWithTimeout(`${BASE_API_URL}/top-books`, {\n        timeout: 6000,\n      });\n      // ok - shorthand for checking that the status is in the range 2xx (boolean)\n      if (!response.ok) {\n        throw new Error(`Network response was not OK - HTTP error: ${response.status}`);\n      }\n      const data = await response.json();\n      return data;\n    } catch (error) {\n      console.error('There has been a problem with your fetch operation:', error);\n    }\n  }\n\n  // will receive complete information about the book\n  async fetchById(id) {\n    try {\n      const response = await this.fetchWithTimeout(`${BASE_API_URL}${id}`, {\n        timeout: 6000,\n      });\n      // ok - shorthand for checking that the status is in the range 2xx (boolean)\n      if (!response.ok) {\n        throw new Error(`Network response was not OK - HTTP error: ${response.status}`);\n      }\n      const data = await response.json();\n      return data;\n    } catch (error) {\n      console.error('There has been a problem with your fetch operation:', error.message);\n    }\n  }\n}\n\n\nexport { fetchById };","import { Bookshelf } from './bookshelf-api.js';\n\nconst bookshelf = new Bookshelf();\nconst bestCategories = document.querySelector('.best-sellers');\n\n// Feature to download the best books\nasync function getBestBooks() {\n  try {\n    return await bookshelf.fetchTopBooks();\n  } catch (error) {\n    console.error('Error downloading top books:', error);\n  }\n}\n\n// Function to download books from a given category\nasync function getCategoryBooks(category) {\n  try {\n    return await bookshelf.fetchByCategory(category);\n  } catch (error) {\n    console.error('Error downloading books from categories:', error);\n  }\n}\n\n// Function to create a single gallery item\nfunction createGalleryItem(data) {\n  const markup = `\n    <h1 class=\"title-book\">\n      Best Sellers <span class=\"title-book-span\">Books</span>\n    </h1> \n    <ul class=\"books-container\"> \n      ${data\n        .map(elements => {\n          return `\n          <li class=\"books-list\"> \n            <h3 class=\"books-list-title\">${elements.list_name}</h3>\n            <div class=\"books-card-container\" data-list-id=\"${elements.list_name}\">\n              ${createAllBookInCategory(elements.books)}\n            </div>\n          </li>`;\n        })\n        .join('')}\n    </ul>`;\n\n  bestCategories.insertAdjacentHTML('beforeend', markup);\n}\n\n//Function to create a markup for all books in a given category\nfunction createAllBookInCategory(books) {\n  return books\n    .map(book => {\n      return `\n      <a href=\"#\" class=\"books-item-link\" aria-label=\"books-item-link\" rel=\"noopener noreferrer\" data-id='${book._id}'>\n        <div class=\"books-card\">\n          <img\n            src=\"${book.book_image}\"\n            alt=\"${book.title}\"\n            class=\"books-card-title-img\"\n            width=\"180\"\n            height=\"256\"\n            loading=\"lazy\"\n          />\n          <div class=\"books-overlay\">\n            <p class=\"books-overlay-text\">quick view</p>\n          </div>\n        </div> \n        <div class=\"books-descr\">\n          <h3 class=\"books-card-title\">${book.title}</h3>\n          <p class=\"books-card-author\">${book.author}</p>\n        </div>\n      </a>`;\n    })\n    .join('');\n}\n\nasync function initializePage() {\n  const data = await getBestBooks();\n  createGalleryItem(data);\n}\n\ninitializePage();\n","const mainTitleCategory = document.querySelector('.category-books-list__title');\nconst categoryList = document.querySelector('.category-books-list__list');\nconst categoriesQuery = document.querySelector('.categories-list');\nconst topBooks = document.querySelector('.best-sellers');\nconst URL = 'https://books-backend.p.goit.global/books/category';\n\ncategoriesQuery.addEventListener('click', onCategoryClick);\n\nfunction fetchCategory(query) {\n  return fetch(`${URL}?category=${query}`).then(res => res.json());\n}\n\nfunction renderTargetCategory(categories) {\n  const markup = categories\n    .map(\n      category => `\n    <li data-id=\"${category._id}\" class=\"category-books-list__item\">\n      <div class=\"card__container card\">\n        <div class=\"card__img-container\">\n          <img src=\"${category['book_image']}\" alt=\"${category.title}\" class=\"card__img\">\n          <p class=\"img-hover\">QUICK VIEW</p>\n        </div>\n        <div class=\"card__desc\">\n          <h3 class=\"card__heading\">${category.title}</h3>\n          <p class=\"card__author\">${category.author}</p>\n        </div>\n      </div>\n    </li>\n  `,\n    )\n    .join('');\n\n  categoryList.innerHTML = markup;\n}\n\nfunction getCategory(query) {\n  fetchCategory(query)\n    .then(res => {\n      renderTargetCategory(res);\n    })\n    .catch(error => console.error('Error fetching data:', error));\n}\n\nfunction onCategoryClick(e) {\n  const value = e.target.textContent;\n  if (value === 'All categories') {\n    topBooks.style.display = 'block';\n    mainTitleCategory.innerHTML = '';\n    return;\n  }\n\n  const query = value.split(' ').join('%20');\n  const categoryTitle = `<span class=\"paintedWord\">${value}</span>`;\n\n  mainTitleCategory.innerHTML = '';\n  mainTitleCategory.insertAdjacentHTML('beforeend', categoryTitle);\n  getCategory(query);\n  topBooks.style.display = 'none';\n}\n","const scrollDownBtn = document.querySelector('.down-btn');\nconst scrollUpBtn = document.querySelector('.up-btn');\nconst list = document.querySelector('.charities__list');\n\nscrollDownBtn.addEventListener('click', () => {\n  setTimeout(function () {\n    list.scrollTo(0, 1000);\n  }, 10);\n  scrollDownBtn.classList.add('is-hidden');\n  scrollUpBtn.classList.remove('is-hidden');\n});\n\nscrollUpBtn.addEventListener('click', () => {\n  setTimeout(function () {\n    list.scrollTo(top);\n  }, 10);\n  scrollUpBtn.classList.add('is-hidden');\n  scrollDownBtn.classList.remove('is-hidden');\n});\n","import { Bookshelf } from './bookshelf-api';\n\nconst bookshelf = new Bookshelf();\nconst LOCALSTORAGE_KEY = 'storage-book-data';\nlet bookData = {};\n\nconst popUpModal = document.querySelector('.pop-up-modal');\nconst backdropModal = document.querySelector('.backdrop-modal');\nconst allBooks = document.querySelector('#allBooks');\nconst categorieList = document.querySelector('.category-books-list');\nconst bestSellers = document.querySelector('.best-sellers');\nconst closeButton = document.querySelector('.close-pop-up-modal-btn');\nconst addBookButton = document.querySelector('.add-book-button');\nconst storageComment = document.querySelector('.storage-comment');\nconst removeBookButton = document.querySelector('.remove-button');\n\nfunction openPopUpModal() {\n  popUpModal.classList.remove('is-hidden');\n  backdropModal.classList.remove('is-hidden');\n}\n\nfunction closePopUpModal() {\n  popUpModal.classList.add('is-hidden');\n  backdropModal.classList.add('is-hidden');\n}\n\nasync function fetchBookById(id) {\n  try {\n    bookData = {};\n    const data = await bookshelf.fetchById(id);\n    console.log(data);\n    bookData = {\n      book_image: data.book_image,\n      title: data.title,\n      author: data.author,\n      description: data.description,\n      marketAmazon: data.buy_links[0].url,\n      marketAppleBooks: data.buy_links[1].url,\n      list_name: data.list_name,\n      id: data._id,\n    };\n    return data;\n  } catch (error) {\n    console.error('Error', error);\n    throw error;\n  }\n}\n\nfunction createMarkup(data) {\n  const marketAmazon = data.buy_links[0].url;\n  const marketAppleBooks = data.buy_links[1].url;\n  const bookCard = `\n      <img src=\"${data.book_image}\" alt=\"Book Image\" class=\"image\">\n      <div class=\"info-modal\">\n        <h2 class=\"title\">${data.title}</h2>\n        <p class=\"author\">${data.author}</p>\n        <p class=\"description\">${data.description}</p>\n        <ul class=\"buy-links\">\n          <li class=\"buy-links-item\"><a href=\"${marketAmazon}\" target=\"_blank\">\n            <img\n              width=\"62\"\n              height=\"19\"\n              srcset=\"./images/pop-up-modal/iconAmazon@x1.png 1x,\n                      ./images/pop-up-modal/iconAmazon@x2.png 2x\"\n              src=\"./images/pop-up-modal/iconAmazon@x1.png\"\n              alt=\"Amazon\"/>\n          </a></li>\n          <li class=\"buy-links-item\"><a href=\"${marketAppleBooks}\" target=\"_blank\">\n            <img\n              width=\"33\"\n              height=\"32\"\n              srcset=\"./images/pop-up-modal/iconAppleBooks@x1.png 1x,\n                      ./images/pop-up-modal/iconAppleBooks@x2.png 2x\"\n              src=\"./images/pop-up-modal/iconAppleBooks@x1.png\"\n              alt=\"AppleBooks\"/>\n          </a></li>\n        </ul>\n      </div>`;\n  allBooks.innerHTML = bookCard;\n}\n\nasync function createPopUpModal(id) {\n  allBooks.innerHTML = '';\n  try {\n    const data = await fetchBookById(id);\n    createMarkup(data);\n  } catch (error) {\n    console.error('Error', error);\n  }\n}\ndocument.addEventListener('DOMContentLoaded', createPopUpModal);\n\nfunction onIdClick(e) {\n  if (['UL', 'DIV', 'H2'].includes(e.target.nodeName)) return;\n  const id = e.target.closest('li').getAttribute('data-id');\n  openPopUpModal();\n  createPopUpModal(id);\n}\n\nfunction onAddBook() {\n  const searchBookArray = JSON.parse(localStorage.getItem(LOCALSTORAGE_KEY)) || [];\n  const bookDataToSave = bookData;\n\n  searchBookArray.push(bookDataToSave);\n  localStorage.setItem(LOCALSTORAGE_KEY, JSON.stringify(searchBookArray));\n  addBookButton.style.display = 'none';\n  removeBookButton.style.display = 'block';\n  storageComment.textContent =\n    'Congratulations! You have added the book to the shopping list. To delete, press the button “Remove from the shopping list”.';\n}\n\nfunction onRemoveBook() {\n  const bookToDelete = bookData.id;\n  const bookArray = JSON.parse(localStorage.getItem(LOCALSTORAGE_KEY)) || [];\n  const indexToDelete = bookArray.findIndex(book => book.id === bookToDelete);\n  if (indexToDelete !== -1) {\n    bookArray.splice(indexToDelete, 1);\n    localStorage.setItem(LOCALSTORAGE_KEY, JSON.stringify(bookArray));\n  }\n  addBookButton.style.display = 'block';\n  removeBookButton.style.display = 'none';\n  storageComment.textContent = '';\n}\n\nif (categorieList) {\n  categorieList.addEventListener('click', onIdClick);\n} else {\n  console.error('Element .category-books-list nie został znaleziony!');\n}\nif (bestSellers) {\n  bestSellers.addEventListener('click', onIdClick);\n} else {\n  console.error('Element .best-sellers nie został znaleziony!');\n}\n\nif (backdropModal) {\n  backdropModal.addEventListener('click', e => {\n    if (e.target === backdropModal) {\n      closePopUpModal();\n    }\n  });\n} else {\n  console.error('Element .backdrop-modal nie został znaleziony!');\n}\n\nif (closeButton) {\n  closeButton.addEventListener('click', closePopUpModal);\n} else {\n  console.error('Element .close-pop-up-modal-btn nie został znaleziony!');\n}\n\nif (addBookButton) {\n  addBookButton.addEventListener('click', onAddBook);\n} else {\n  console.error('Element .add-book-button nie został znaleziony!');\n}\n\nif (removeBookButton) {\n  removeBookButton.addEventListener('click', onRemoveBook);\n} else {\n  console.error('Element .remove-button nie został znaleziony!');\n}\n\ndocument.addEventListener('keydown', e => {\n  if (e.key === 'Escape') {\n    closePopUpModal();\n  }\n});\n"],"names":["$5e4fec0c7f2908c0$var$BASE_API_URL","$5e4fec0c7f2908c0$export$b78989fb0ec8a513","fetchWithTimeout","resource","options","timeout","controller","AbortController","id","setTimeout","abort","response","fetch","signal","clearTimeout","fetchByCategory","selectedCategory","ok","Error","status","data","json","error","console","message","fetchBooksCategoryList","fetchTopBooks","fetchById","$6f8d5bdcded4db2c$var$bookshelfApi","$6f8d5bdcded4db2c$var$categoriesListEl","document","querySelector","$6f8d5bdcded4db2c$var$onCategoryClick","e","target","nodeName","prevSelected","removeAttribute","setAttribute","textContent","log","addEventListener","$6f8d5bdcded4db2c$var$renderCategoriesMenu","resultJson","length","innerHTML","categoriesMarkup","map","item","list_name","join","$45ea4dd502a5e6ab$var$bookshelf","$45ea4dd502a5e6ab$var$bestCategories","$45ea4dd502a5e6ab$var$getBestBooks","$45ea4dd502a5e6ab$var$initializePage","$45ea4dd502a5e6ab$var$createGalleryItem","markup","elements","books","book","_id","book_image","title","author","insertAdjacentHTML","$258c5fa24b0cc841$var$mainTitleCategory","$258c5fa24b0cc841$var$categoryList","$258c5fa24b0cc841$var$categoriesQuery","$258c5fa24b0cc841$var$topBooks","value","style","display","query","split","categoryTitle","$258c5fa24b0cc841$var$getCategory","$258c5fa24b0cc841$var$fetchCategory","then","res","$258c5fa24b0cc841$var$renderTargetCategory","categories","category","catch","$55815fd1053b6bc4$var$scrollDownBtn","$55815fd1053b6bc4$var$scrollUpBtn","$55815fd1053b6bc4$var$list","scrollTo","classList","add","remove","top","$ef94361d02324fdf$var$bookshelf","$ef94361d02324fdf$var$LOCALSTORAGE_KEY","$ef94361d02324fdf$var$bookData","$ef94361d02324fdf$var$popUpModal","$ef94361d02324fdf$var$backdropModal","$ef94361d02324fdf$var$allBooks","$ef94361d02324fdf$var$categorieList","$ef94361d02324fdf$var$bestSellers","$ef94361d02324fdf$var$closeButton","$ef94361d02324fdf$var$addBookButton","$ef94361d02324fdf$var$storageComment","$ef94361d02324fdf$var$removeBookButton","$ef94361d02324fdf$var$closePopUpModal","$ef94361d02324fdf$var$fetchBookById","description","marketAmazon","buy_links","url","marketAppleBooks","$ef94361d02324fdf$var$createPopUpModal","$ef94361d02324fdf$var$createMarkup","bookCard","$ef94361d02324fdf$var$onIdClick","includes","closest","getAttribute","searchBookArray","JSON","parse","localStorage","getItem","bookDataToSave","push","setItem","stringify","bookToDelete","bookArray","indexToDelete","findIndex","splice","key","$4f267d6e0c9c7dbb$var$my_Bookshelf","publisher","price","amazon_product_url","rank","list","element"],"version":3,"file":"index.90d2cc0b.js.map"}